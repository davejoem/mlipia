"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class e{constructor(e){this.routes=[],this.mlipia=e,this.register(),this.listen()}listen(){this.routes.forEach(e=>{this.mlipia.app[e.method](e.address,e.func)})}register(){this.routes.push({address:"/ip",func:(e,s)=>{s.status(200).send(JSON.stringify({ip:e.headers["x-forwarded-for"]}))},method:"get"}),this.routes.push({address:"/",func:(e,s)=>{s.redirect("//"+e.headers.host+"/client")},method:"get"}),this.routes.push({address:"/*",func:(e,s)=>{s.redirect("//"+e.headers.host)},method:"get"})}}exports.GeneralRoutes=e;