"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const s=require("../models/models");class t{constructor(s){this.routes=[],this.mlipia=s,this.register(),this.listen()}add(t,e){new s.AccountModel(t.body).save().then(s=>{e.status(200).send(s)}).catch(s=>{e.status(400).send(s)})}list(t,e){s.AccountModel.find().then(s=>{e.status(200).send(s)}).catch(s=>{e.status(400).send(s)})}listen(){this.routes.forEach(s=>{this.mlipia.app[s.method](s.address,s.func)})}register(){this.routes.push({address:"/accounts/new",func:(s,t)=>{this.add(s,t)},method:"post"}),this.routes.push({address:"/accounts/list",func:(s,t)=>{this.list(s,t)},method:"get"})}}exports.AccountsRoutes=t;